document.addEventListener("DOMContentLoaded",(()=>{const e=()=>"none"!=getComputedStyle(s).display,t=(e,t,i,o)=>{let r=o.find((e=>e.classList.contains("is-open")));r&&(openBtn=r.firstChild,openSubList=openBtn.nextSibling,n(r,openBtn,openSubList)),i.ontransitionend=null,i.style.visibility="visible",e.parentNode.ontransitionend=null,e.parentNode.style.overflow="visible",t.setAttribute("aria-expanded","true"),e.classList.add("is-open")},n=(e,t,n)=>{e.parentNode.ontransitionend=()=>{e.parentNode.style.overflow=m?"hidden auto":"hidden"},n.ontransitionend=()=>{n.style.visibility="hidden",t.setAttribute("aria-expanded","false")},e.classList.remove("is-open")},i=()=>{p?null==u.ontransitionend&&(u.ontransitionend=()=>{document.removeEventListener("keydown",o),s.setAttribute("aria-expanded","false"),s.setAttribute("title",d),u.setAttribute("aria-hidden","true"),p=!1;let e=u.querySelector('button[aria-expanded="true"]');e&&e.click()},a.classList.remove("h-nav-is-open")):(u.ontransitionend=null,u.setAttribute("aria-hidden","false"),document.addEventListener("keydown",o),s.setAttribute("aria-expanded","true"),s.setAttribute("title",c),a.classList.add("h-nav-is-open"),p=!0)},o=e=>{"Escape"==e.key&&(i(),s.focus())},r=e=>{if("Escape"==e.key){let e=[...b].find((e=>e.classList.contains("is-open")));e&&(n(e,e.children[0],e.children[1]),e.children[0].focus())}},l=()=>{b.length>0&&b.forEach((e=>{let i=e.firstChild,o=i.nextSibling,l=(e=>{for(var t=[],n=e.parentNode.firstChild;n;)1===n.nodeType&&n!==e&&t.push(n),n=n.nextSibling;return t})(e);e.classList.contains("is-open")&&n(e,i,o),i.onclick=()=>{((e,i,o,r)=>{e.classList.contains("is-open")?n(e,i,o):t(e,i,o,r)})(e,i,o,l)},m?(e.onmouseenter=null,e.onmouseleave=null,document.removeEventListener("keydown",r)):(e.onmouseenter=()=>{t(e,i,o,l)},e.onmouseleave=()=>{n(e,i,o)},document.addEventListener("keydown",r))})),m?(u.setAttribute("aria-labelledby","#header-nav-btn"),u.setAttribute("aria-hidden","true"),s.onclick=()=>{i()},u.onclick=e=>{(e=>{e.target==u&&i()})(e)}):(s.onclick=null,u.onclick=null,u.ontransitionend=null,s.setAttribute("aria-expanded","false"),s.setAttribute("title",d),u.removeAttribute("aria-labelledby"),u.removeAttribute("aria-hidden"),u.removeAttribute("style"),a.classList.remove("h-nav-is-open"),p=!1)},a=document.querySelector("body"),s=document.querySelector(".h-nav-btn"),d=s.getAttribute("title"),c=s.dataset.title,u=document.querySelector(".h-nav"),b=u.querySelectorAll(".h-p-nav-item--l1.is-parent");let m=e(),p=!1,y=null;if(window.addEventListener("resize",(()=>{clearTimeout(y),y=setTimeout((()=>{let t=e();m!=t&&(m=t,l())}),250)})),b.length>0){b.forEach(((e,t)=>{let n=e.firstChild;n.setAttribute("id","h-nav-btn-submenu-"+t),n.setAttribute("aria-controls","h-nav-submenu-"+t),n.setAttribute("aria-expanded","false");let i=n.nextSibling;i.setAttribute("id","h-nav-submenu-"+t),i.setAttribute("aria-labelledby","h-nav-btn-submenu-"+t),i.style.visibility="hidden"}));const e=document.querySelectorAll(".h-p-nav-sub-back");e.length>0&&e.forEach((e=>{e.addEventListener("click",(()=>{u.querySelector('button[aria-expanded="true"]').click()}))}))}l()})),document.addEventListener("DOMContentLoaded",(()=>{const rem=function(e,t){return null==t&&(t=16),e/t+"rem"},blocEmbeds=document.querySelectorAll(".bloc-embed");blocEmbeds.forEach((e=>{const t=e.querySelector("iframe"),n=t.dataset.src,i=e.querySelector(".iframe-accept");e.querySelector("button").addEventListener("click",(()=>{t.setAttribute("src",n),i.remove()}))}));const btnOpenModal=document.querySelectorAll(".modal-btn-open"),body=document.querySelector("body");btnOpenModal&&btnOpenModal.forEach((e=>{const t=document.querySelector("#"+e.getAttribute("aria-control")),n=t.querySelectorAll(".modal-btn-close");e.addEventListener("click",(()=>{t.showModal(),body.style.overflow="hidden"})),n.forEach((n=>{n.addEventListener("click",(()=>{t.close(),e.focus(),body.style.overflow="auto"}))})),t.addEventListener("click",(n=>{n.target===t&&(t.close(),e.focus(),body.style.overflow="auto")}))}));const mapBlocs=document.querySelectorAll(".bloc-map");mapBlocs.length>0&&mapBlocs.forEach((bloc=>{const container=bloc.querySelector(".map"),args=eval("mapArgs_"+container.id),center=[args.lat,args.lng],map=L.map(container.id,{scrollWheelZoom:!1,tap:!1}).setView(center,13);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoicGFwaWVyY29kZSIsImEiOiJja203a3E5N3kweXplMnhuNjBuOTV2bmQ1In0.UtKowadsitAGdxDUpMv5aA",{id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1}).addTo(map);const marker=L.marker(center,{icon:L.divIcon({html:args.marker.svg,iconSize:[args.marker.width,args.marker.height],popupAnchor:[0,-.5*args.height]})}).addTo(map)}));const inputFiles=document.querySelectorAll('input[type="file"');inputFiles.length>0&&inputFiles.forEach((e=>{let t=e.parentElement.querySelector(".input-file-btn"),n=e.parentElement.querySelector(".input-file-msg");t.addEventListener("click",(()=>{e.click()})),e.addEventListener("change",(e=>{let t=e.currentTarget.value;t.includes("fakepath")&&(t=t.substring(12)),n.textContent=t}))}))}));