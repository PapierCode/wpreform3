document.addEventListener("DOMContentLoaded",(()=>{const e=()=>"none"!=getComputedStyle(l).display,t=(e,t,r,i)=>{let a=i.find((e=>e.classList.contains("is-open")));a&&(openBtn=a.firstChild,openSubList=openBtn.nextSibling,n(a,openBtn,openSubList)),r.ontransitionend=null,r.style.visibility="visible",e.parentNode.ontransitionend=null,e.parentNode.style.overflow="visible",t.setAttribute("aria-expanded","true"),e.classList.add("is-open")},n=(e,t,n)=>{e.parentNode.ontransitionend=()=>{e.parentNode.style.overflow=h?"hidden auto":"hidden"},n.ontransitionend=()=>{n.style.visibility="hidden",t.setAttribute("aria-expanded","false")},e.classList.remove("is-open")},r=()=>{m?null==u.ontransitionend&&(u.ontransitionend=()=>{document.removeEventListener("keydown",i),l.setAttribute("aria-expanded","false"),l.setAttribute("title",c),u.setAttribute("aria-hidden","true"),m=!1;let e=u.querySelector('button[aria-expanded="true"]');e&&e.click()},s.classList.remove("h-nav-is-open")):(u.ontransitionend=null,u.setAttribute("aria-hidden","false"),document.addEventListener("keydown",i),l.setAttribute("aria-expanded","true"),l.setAttribute("title",d),s.classList.add("h-nav-is-open"),m=!0)},i=e=>{"Escape"==e.key&&(r(),l.focus())},a=e=>{if("Escape"==e.key){let e=[...b].find((e=>e.classList.contains("is-open")));e&&(n(e,e.children[0],e.children[1]),e.children[0].focus())}},o=()=>{b.length>0&&b.forEach((e=>{let r=e.firstChild,i=r.nextSibling,o=(e=>{for(var t=[],n=e.parentNode.firstChild;n;)1===n.nodeType&&n!==e&&t.push(n),n=n.nextSibling;return t})(e);e.classList.contains("is-open")&&n(e,r,i),r.onclick=()=>{((e,r,i,a)=>{e.classList.contains("is-open")?n(e,r,i):t(e,r,i,a)})(e,r,i,o)},h?(e.onmouseenter=null,e.onmouseleave=null,document.removeEventListener("keydown",a)):(e.onmouseenter=()=>{t(e,r,i,o)},e.onmouseleave=()=>{n(e,r,i)},document.addEventListener("keydown",a))})),h?(u.setAttribute("aria-labelledby","#header-nav-btn"),u.setAttribute("aria-hidden","true"),l.onclick=()=>{r()},u.onclick=e=>{(e=>{e.target==u&&r()})(e)}):(l.onclick=null,u.onclick=null,u.ontransitionend=null,l.setAttribute("aria-expanded","false"),l.setAttribute("title",c),u.removeAttribute("aria-labelledby"),u.removeAttribute("aria-hidden"),u.removeAttribute("style"),s.classList.remove("h-nav-is-open"),m=!1)},s=document.querySelector("body"),l=document.querySelector(".h-nav-btn"),c=l.getAttribute("title"),d=l.dataset.title,u=document.querySelector(".h-nav"),b=u.querySelectorAll(".h-p-nav-item--l1.is-parent");let h=e(),m=!1,p=null;if(window.addEventListener("resize",(()=>{clearTimeout(p),p=setTimeout((()=>{let t=e();h!=t&&(h=t,o())}),250)})),b.length>0){b.forEach(((e,t)=>{let n=e.firstChild;n.setAttribute("id","h-nav-btn-submenu-"+t),n.setAttribute("aria-controls","h-nav-submenu-"+t),n.setAttribute("aria-expanded","false");let r=n.nextSibling;r.setAttribute("id","h-nav-submenu-"+t),r.setAttribute("aria-labelledby","h-nav-btn-submenu-"+t),r.style.visibility="hidden"}));const e=document.querySelectorAll(".h-p-nav-sub-back");e.length>0&&e.forEach((e=>{e.addEventListener("click",(()=>{u.querySelector('button[aria-expanded="true"]').click()}))}))}o()})),document.addEventListener("DOMContentLoaded",(()=>{const rem=function(e,t){return null==t&&(t=16),e/t+"rem"},blocEmbeds=document.querySelectorAll(".bloc-embed");blocEmbeds.forEach((e=>{const t=e.querySelector("iframe"),n=t.dataset.src,r=e.querySelector(".iframe-accept");e.querySelector("button").addEventListener("click",(()=>{t.setAttribute("src",n),r.remove()}))}));const searchBtn=document.querySelector(".h-btn-toggle-search");if(searchBtn){const e=window.getComputedStyle(searchBtn.parentNode),t=document.querySelector("#header-form-search-box"),n=t.querySelectorAll("button,input"),r=()=>{"false"==searchBtn.getAttribute("aria-expanded")?(searchBtn.setAttribute("aria-expanded",!0),searchBtn.setAttribute("aria-label","Masquer le formulaire de recherche"),t.setAttribute("aria-hidden","false"),n.forEach((e=>{e.removeAttribute("tabindex")}))):(searchBtn.setAttribute("aria-expanded",!1),searchBtn.setAttribute("aria-label","Afficher le formulaire de recherche"),t.setAttribute("aria-hidden","true"),n.forEach((e=>{e.setAttribute("tabindex","-1")})))},i=()=>{"none"!=e.display?(searchBtn.classList.add("active"),searchBtn.addEventListener("click",r),t.setAttribute("aria-hidden","true"),n.forEach((e=>{e.setAttribute("tabindex","-1")}))):"none"==e.display&&searchBtn.classList.contains("active")&&(searchBtn.classList.remove("active"),searchBtn.setAttribute("aria-expanded",!1),searchBtn.setAttribute("aria-label","Afficher le formulaire de recherche"),searchBtn.removeEventListener("click",r),t.removeAttribute("aria-hidden"),n.forEach((e=>{e.removeAttribute("tabindex")})))};i();let a=null;window.addEventListener("resize",(()=>{clearTimeout(a),a=setTimeout(i,250)}))}const btnOpenModal=document.querySelectorAll(".modal-btn-open"),body=document.querySelector("body");btnOpenModal&&btnOpenModal.forEach((e=>{const t=document.querySelector("#"+e.getAttribute("aria-control")),n=t.querySelectorAll(".modal-btn-close");e.addEventListener("click",(()=>{t.showModal(),body.style.overflow="hidden"})),n.forEach((n=>{n.addEventListener("click",(()=>{t.close(),e.focus(),body.style.overflow="auto"}))})),t.addEventListener("click",(n=>{n.target===t&&(t.close(),e.focus(),body.style.overflow="auto")}))}));const mapBlocs=document.querySelectorAll(".bloc-map");mapBlocs.length>0&&mapBlocs.forEach((bloc=>{const container=bloc.querySelector(".map"),args=eval("mapArgs_"+container.id),center=[args.lat,args.lng],map=L.map(container.id,{scrollWheelZoom:!1,tap:!1}).setView(center,13);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoicGFwaWVyY29kZSIsImEiOiJjbTZhbTMwZTkwaXNvMm1zaWU4ZnR2NmFnIn0.KKkR3402RzV80Du2Hu1gLg",{id:"papiercode/cm69i1x8x001t01r5568bhc7w",tileSize:512,zoomOffset:-1}).addTo(map);const marker=L.marker(center,{icon:L.divIcon({html:args.marker.svg,iconSize:[args.marker.width,args.marker.height],popupAnchor:[0,-.5*args.height]})}).addTo(map)}));const inputFiles=document.querySelectorAll('input[type="file"');inputFiles.length>0&&inputFiles.forEach((e=>{let t=e.parentElement.querySelector(".input-file-btn"),n=e.parentElement.querySelector(".input-file-msg");t.addEventListener("click",(()=>{e.click()})),e.addEventListener("change",(e=>{let t=e.currentTarget.value;t.includes("fakepath")&&(t=t.substring(12)),n.textContent=t}))}))}));