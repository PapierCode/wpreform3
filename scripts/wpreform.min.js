document.addEventListener("DOMContentLoaded",(()=>{const e=()=>"none"!=getComputedStyle(s).display,t=(e,t,o,i)=>{let r=i.find((e=>e.classList.contains("is-open")));r&&(openBtn=r.firstChild,openSubList=openBtn.nextSibling,n(r,openBtn,openSubList)),o.ontransitionend=null,o.style.visibility="visible",e.parentNode.ontransitionend=null,e.parentNode.style.overflow="visible",t.setAttribute("aria-expanded","true"),e.classList.add("is-open")},n=(e,t,n)=>{e.parentNode.ontransitionend=()=>{e.parentNode.style.overflow=m?"hidden auto":"hidden"},n.ontransitionend=()=>{n.style.visibility="hidden",t.setAttribute("aria-expanded","false")},e.classList.remove("is-open")},o=()=>{p?null==u.ontransitionend&&(u.ontransitionend=()=>{document.removeEventListener("keydown",i),s.setAttribute("aria-expanded","false"),s.setAttribute("title",d),u.setAttribute("aria-hidden","true"),p=!1;let e=u.querySelector('button[aria-expanded="true"]');e&&e.click()},l.classList.remove("h-nav-is-open")):(u.ontransitionend=null,u.setAttribute("aria-hidden","false"),document.addEventListener("keydown",i),s.setAttribute("aria-expanded","true"),s.setAttribute("title",c),l.classList.add("h-nav-is-open"),p=!0)},i=e=>{"Escape"==e.key&&(o(),s.focus())},r=e=>{if("Escape"==e.key){let e=[...b].find((e=>e.classList.contains("is-open")));e&&(n(e,e.children[0],e.children[1]),e.children[0].focus())}},a=()=>{b.length>0&&b.forEach((e=>{let o=e.firstChild,i=o.nextSibling,a=(e=>{for(var t=[],n=e.parentNode.firstChild;n;)1===n.nodeType&&n!==e&&t.push(n),n=n.nextSibling;return t})(e);e.classList.contains("is-open")&&n(e,o,i),o.onclick=()=>{((e,o,i,r)=>{e.classList.contains("is-open")?n(e,o,i):t(e,o,i,r)})(e,o,i,a)},m?(e.onmouseenter=null,e.onmouseleave=null,document.removeEventListener("keydown",r)):(e.onmouseenter=()=>{t(e,o,i,a)},e.onmouseleave=()=>{n(e,o,i)},document.addEventListener("keydown",r))})),m?(u.setAttribute("aria-labelledby","#header-nav-btn"),u.setAttribute("aria-hidden","true"),s.onclick=()=>{o()},u.onclick=e=>{(e=>{e.target==u&&o()})(e)}):(s.onclick=null,u.onclick=null,u.ontransitionend=null,s.setAttribute("aria-expanded","false"),s.setAttribute("title",d),u.removeAttribute("aria-labelledby"),u.removeAttribute("aria-hidden"),u.removeAttribute("style"),l.classList.remove("h-nav-is-open"),p=!1)},l=document.querySelector("body"),s=document.querySelector(".h-nav-btn"),d=s.getAttribute("title"),c=s.dataset.title,u=document.querySelector(".h-nav"),b=u.querySelectorAll(".h-p-nav-item--l1.is-parent");let m=e(),p=!1,v=null;if(window.addEventListener("resize",(()=>{clearTimeout(v),v=setTimeout((()=>{let t=e();m!=t&&(m=t,a())}),250)})),b.length>0){b.forEach(((e,t)=>{let n=e.firstChild;n.setAttribute("id","h-nav-btn-submenu-"+t),n.setAttribute("aria-controls","h-nav-submenu-"+t),n.setAttribute("aria-expanded","false");let o=n.nextSibling;o.setAttribute("id","h-nav-submenu-"+t),o.setAttribute("aria-labelledby","h-nav-btn-submenu-"+t),o.style.visibility="hidden"}));const e=document.querySelectorAll(".h-p-nav-sub-back");e.length>0&&e.forEach((e=>{e.addEventListener("click",(()=>{u.querySelector('button[aria-expanded="true"]').click()}))}))}a()})),document.addEventListener("DOMContentLoaded",(()=>{const rem=function(e,t){return null==t&&(t=16),e/t+"rem"},blocEmbeds=document.querySelectorAll(".bloc-embed");blocEmbeds.forEach((e=>{const t=e.querySelector("iframe"),n=t.dataset.src,o=e.querySelector(".iframe-accept");e.querySelector("button").addEventListener("click",(()=>{t.setAttribute("src",n),o.remove()}))}));const btnOpenModal=document.querySelectorAll(".modal-btn-open"),body=document.querySelector("body");btnOpenModal&&btnOpenModal.forEach((e=>{const t=document.querySelector("#"+e.getAttribute("aria-control")),n=t.querySelectorAll(".modal-btn-close");e.addEventListener("click",(()=>{t.showModal(),body.style.overflow="hidden"})),n.forEach((n=>{n.addEventListener("click",(()=>{t.close(),e.focus(),body.style.overflow="auto"}))})),t.addEventListener("click",(n=>{n.target===t&&(t.close(),e.focus(),body.style.overflow="auto")}))}));const mapBlocs=document.querySelectorAll(".bloc-map");mapBlocs.length>0&&mapBlocs.forEach((bloc=>{const container=bloc.querySelector(".map"),args=eval("mapArgs_"+container.id),center=[args.lat,args.lng],map=L.map(container.id,{scrollWheelZoom:!1,tap:!1}).setView(center,13);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoicGFwaWVyY29kZSIsImEiOiJja203a3E5N3kweXplMnhuNjBuOTV2bmQ1In0.UtKowadsitAGdxDUpMv5aA",{id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1}).addTo(map);const marker=L.marker(center,{icon:L.divIcon({html:args.marker.svg,iconSize:[args.marker.width,args.marker.height],popupAnchor:[0,-.5*args.height]})}).addTo(map)}))}));