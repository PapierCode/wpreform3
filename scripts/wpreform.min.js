!function(e){e.gallery=function(t,n){var i={btnPrevClass:"",btnNextClass:"",btnPrevInner:"Image précédente",btnNextInner:"Image suivante",btnCloseClass:"",btnCloseInner:"Fermer la galerie",loaderContent:'<div class="loader-item loader-item--1"></div><div class="loader-item loader-item--2"></div><div class="loader-item loader-item--3"></div>',closingDuration:400,moveDuration:500,responsiveImg:!1,responsiveKeyPoint:1e3,beforeAddStructure:function(){},afterAddStructure:function(){},beforeChangeSlide:function(){},afterChangeSlide:function(){}},s=this;s.settings={};var a,o,l,r,d,c,u,v,b,g,p,m,h,f,y,C,k,A=e(t),S=e("body"),L=[],w=[];s.init=function(){s.settings=e.extend({},i,n),A.on("click","a",(function(t){if(a=A.find("a"),t.preventDefault(),s.settings.responsiveImg&&e(window).width()<s.settings.responsiveKeyPoint){for(var n=0;n<a.length;n++)L[n]=a.eq(n).data("gl-responsive"),w[n]=a.eq(n).data("gl-caption");l=L.indexOf(e(this).data("gl-responsive"))}else{for(var i=0;i<a.length;i++)L[i]=a.eq(i).attr("href"),w[i]=a.eq(i).data("gl-caption");l=L.indexOf(e(this).attr("href"))}o=L.length,console.log(a),x(),S.addClass("gl-active").on("keydown",q),$itemsToMove=u.eq(l).prevAll();for(var r=$itemsToMove.length;r>0;r--)$itemsToMove.eq(r-1).appendTo(c);b=u.eq(l).addClass("is-active is-hidden"),D(b,L[l],0),y.html(w[l])}))};var x=function(){var t='<div class="gl" aria-hidden="true"><div class="gl-main"><div class="gl-slides" style="width:'+100*o+'%" ></div></div></div>';S.append(t),r=e(".gl").on("click",M),c=e(".gl-slides");for(var n=0;n<o;n++)c.append('<div class="gl-slide is-hidden slide-'+n+'" style="width:'+(100/o).toFixed(4)+'%"><div class="gl-slide-inner"></div></div>');u=e(".gl-slide"),r.prepend('<div class="gl-header"><div class="gl-counter"><span class="gl-counter-current">'+(l+1)+'</span> / <span class="gl-counter-all">'+L.length+"</span></div></div>"),r.append('<div class="gl-footer"><div class="gl-caption"></div></div>'),d=e(".gl-header"),y=e(".gl-caption"),C=e(".gl-counter"),k=e(".gl-counter-current"),o>1&&(d.append('<button class="gl-btn gl-btn-nav gl-btn-nav--prev reset-btn '+s.settings.btnPrevClass+'" aria-hidden="true" tabindex="-1"><span class="ico">'+s.settings.btnPrevInner+'</span></button><button class="gl-btn gl-btn-nav gl-btn-nav--next reset-btn '+s.settings.btnNextClass+'" aria-hidden="true" tabindex="-1"><span class="ico">'+s.settings.btnPrevInner+"</span></button>"),p=e(".gl-btn-nav").on("mouseup",(function(){e(this).blur()})),m=e(".gl-btn-nav--prev").on("click",(function(){E()})),h=e(".gl-btn-nav--next").on("click",(function(){I()}))),d.append('<button class="gl-btn gl-btn-close reset-btn '+s.settings.btnCloseClass+'"><span class="ico">'+s.settings.btnCloseInner+"</span></button>"),f=e(".gl-btn-close").on("click",(function(){T()})),r.append('<div class="gl-loader loader">'+s.settings.loaderContent+"</div>"),g=e(".loader"),s.settings.afterAddStructure(r,g,C,m,h,f,p)},q=function(e){switch(e.keyCode){case 27:T();break;case 37:o>1&&E();break;case 39:o>1&&I()}},E=function(){-1===(l-=1)&&(l=L.length-1),D(u.eq(l),L[l],-1)},I=function(){(l+=1)>L.length-1&&(l=0),D(u.eq(l),L[l],1)},T=function(){r.addClass("is-hidden"),setTimeout((function(){r.remove()}),s.settings.closingDuration),S.removeClass("gl-active").off("keydown",q),L=[],w=[]},M=function(t){e(t.target).is("img, button")||T()},D=function(t,n,i){t.hasClass("is-loaded")?0!==i&&N(i):(g.removeClass("is-hidden"),o>1&&p.addClass("is-loading"),e.ajax({url:n,cache:!0,processData:!1}).always((function(){g.addClass("is-hidden"),o>1&&p.removeClass("is-loading"),t.addClass("is-loaded").children().append('<img src="'+n+'" />'),O(t.find("img")),0===i?t.removeClass("is-hidden"):N(i)})))},N=function(e){s.settings.beforeChangeSlide(l),p.attr("disabled","disabled").addClass("is-disabled"),S.off("keydown",q),v=b.removeClass("is-active").addClass("is-leaving"),b=u.eq(l).addClass("is-coming"),e<0?(c.css("left",100*e+"%").children(":last").prependTo(c),v.addClass("is-leaving-to-right"),b.addClass("is-coming-from-left")):(v.addClass("is-leaving-to-left"),b.addClass("is-coming-from-right")),c.animate({left:"-="+100*e+"%"},{duration:s.settings.moveDuration*Math.abs(e),complete:function(){b.addClass("is-active").removeClass("is-coming"),v.removeClass("is-leaving"),p.removeAttr("disabled").removeClass("is-disabled"),S.on("keydown",q),e>0?(c.css("left","0").children(":first").appendTo(c),v.removeClass("is-leaving-to-left"),b.removeClass("is-coming-from-right")):(v.removeClass("is-leaving-to-right"),b.removeClass("is-coming-from-left")),k.text(l+1),y.html(w[l]),s.settings.afterChangeSlide(l)}})},O=function(e){var t;e[0].addEventListener("touchstart",(function(e){var n=e.changedTouches[0];t=parseInt(n.clientX),undefined.text(t),e.preventDefault()}),!1),e[0].addEventListener("touchend",(function(e){var n=e.changedTouches[0],i=parseInt(n.clientX)-t;Math.abs(i)>50&&(i>0?E():I()),e.preventDefault()}),!1)};s.foo_public_method=function(){},s.init()},e.fn.gallery=function(t){return this.each((function(){if(void 0===e(this).data("gallery")){var n=new e.gallery(this,t);e(this).data("gallery",n)}}))}}(jQuery),document.addEventListener("DOMContentLoaded",(()=>{const e=()=>"none"!=getComputedStyle(r).display,t=(e,t,i,s)=>{let a=s.find((e=>e.classList.contains("is-open")));a&&(openBtn=a.firstChild,openSubList=openBtn.nextSibling,n(a,openBtn,openSubList)),i.ontransitionend=null,i.style.visibility="visible",e.parentNode.ontransitionend=null,e.parentNode.style.overflow="visible",t.setAttribute("aria-expanded","true"),e.classList.add("is-open")},n=(e,t,n)=>{e.parentNode.ontransitionend=()=>{e.parentNode.style.overflow=b?"hidden auto":"hidden"},n.ontransitionend=()=>{n.style.visibility="hidden",t.setAttribute("aria-expanded","false")},e.classList.remove("is-open")},i=()=>{g?null==u.ontransitionend&&(u.ontransitionend=()=>{document.removeEventListener("keydown",s),r.setAttribute("aria-expanded","false"),r.setAttribute("title",d),u.setAttribute("aria-hidden","true"),g=!1;let e=u.querySelector('button[aria-expanded="true"]');e&&e.click()},l.classList.remove("h-nav-is-open")):(u.ontransitionend=null,u.setAttribute("aria-hidden","false"),document.addEventListener("keydown",s),r.setAttribute("aria-expanded","true"),r.setAttribute("title",c),l.classList.add("h-nav-is-open"),g=!0)},s=e=>{"Escape"==e.key&&(i(),r.focus())},a=e=>{if("Escape"==e.key){let e=[...v].find((e=>e.classList.contains("is-open")));e&&(n(e,e.children[0],e.children[1]),e.children[0].focus())}},o=()=>{v.length>0&&v.forEach((e=>{let i=e.firstChild,s=i.nextSibling,o=(e=>{for(var t=[],n=e.parentNode.firstChild;n;)1===n.nodeType&&n!==e&&t.push(n),n=n.nextSibling;return t})(e);e.classList.contains("is-open")&&n(e,i,s),i.onclick=()=>{((e,i,s,a)=>{e.classList.contains("is-open")?n(e,i,s):t(e,i,s,a)})(e,i,s,o)},b?(e.onmouseenter=null,e.onmouseleave=null,document.removeEventListener("keydown",a)):(e.onmouseenter=()=>{t(e,i,s,o)},e.onmouseleave=()=>{n(e,i,s)},document.addEventListener("keydown",a))})),b?(u.setAttribute("aria-labelledby","#header-nav-btn"),u.setAttribute("aria-hidden","true"),r.onclick=()=>{i()},u.onclick=e=>{(e=>{e.target==u&&i()})(e)}):(r.onclick=null,u.onclick=null,u.ontransitionend=null,r.setAttribute("aria-expanded","false"),r.setAttribute("title",d),u.removeAttribute("aria-labelledby"),u.removeAttribute("aria-hidden"),u.removeAttribute("style"),l.classList.remove("h-nav-is-open"),g=!1)},l=document.querySelector("body"),r=document.querySelector(".h-nav-btn"),d=r.getAttribute("title"),c=r.dataset.title,u=document.querySelector(".h-nav"),v=u.querySelectorAll(".h-p-nav-item--l1.is-parent");let b=e(),g=!1,p=null;if(window.addEventListener("resize",(()=>{clearTimeout(p),p=setTimeout((()=>{let t=e();b!=t&&(b=t,o())}),250)})),v.length>0){v.forEach(((e,t)=>{let n=e.firstChild;n.setAttribute("id","h-nav-btn-submenu-"+t),n.setAttribute("aria-controls","h-nav-submenu-"+t),n.setAttribute("aria-expanded","false");let i=n.nextSibling;i.setAttribute("id","h-nav-submenu-"+t),i.setAttribute("aria-labelledby","h-nav-btn-submenu-"+t),i.style.visibility="hidden"}));const e=document.querySelectorAll(".h-p-nav-sub-back");e.length>0&&e.forEach((e=>{e.addEventListener("click",(()=>{u.querySelector('button[aria-expanded="true"]').click()}))}))}o()})),document.addEventListener("DOMContentLoaded",(()=>{const rem=function(e,t){return null==t&&(t=16),e/t+"rem"},blocEmbeds=document.querySelectorAll(".bloc-embed");blocEmbeds.forEach((e=>{const t=e.querySelector("iframe"),n=t.dataset.src,i=e.querySelector(".iframe-accept");e.querySelector("button").addEventListener("click",(()=>{t.setAttribute("src",n),i.remove()}))}));const btnOpenModal=document.querySelectorAll(".modal-btn-open"),body=document.querySelector("body");btnOpenModal&&btnOpenModal.forEach((e=>{const t=document.querySelector("#"+e.getAttribute("aria-control")),n=t.querySelectorAll(".modal-btn-close");e.addEventListener("click",(()=>{t.showModal(),body.style.overflow="hidden"})),n.forEach((n=>{n.addEventListener("click",(()=>{t.close(),e.focus(),body.style.overflow="auto"}))})),t.addEventListener("click",(n=>{n.target===t&&(t.close(),e.focus(),body.style.overflow="auto")}))}));const mapBlocs=document.querySelectorAll(".bloc-map");mapBlocs.length>0&&mapBlocs.forEach((bloc=>{const container=bloc.querySelector(".map"),args=eval("mapArgs_"+container.id),center=[args.lat,args.lng],map=L.map(container.id,{scrollWheelZoom:!1,tap:!1}).setView(center,13);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoicGFwaWVyY29kZSIsImEiOiJja203a3E5N3kweXplMnhuNjBuOTV2bmQ1In0.UtKowadsitAGdxDUpMv5aA",{id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1}).addTo(map);const marker=L.marker(center,{icon:L.divIcon({html:args.marker.svg,iconSize:[args.marker.width,args.marker.height],popupAnchor:[0,-.5*args.height]})}).addTo(map)}))})),jQuery(document).ready((function(e){e(".diaporama").gallery({btnNextInner:sprite.arrow,btnPrevInner:sprite.arrow,btnCloseInner:sprite.cross,moveDuration:500,responsiveImg:!0}),e(".gallery-play").click((function(){e(this).parents("ul").find(">:first-child").children("a").click()}))}));